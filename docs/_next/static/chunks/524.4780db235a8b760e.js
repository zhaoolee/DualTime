"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[524],{2524:(e,t,r)=>{r.r(t),r.d(t,{default:()=>o});var s=r(5155),a=r(2115);function o(){let[e,t]=(0,a.useState)(0),[r,o]=(0,a.useState)(0),[l,n]=(0,a.useState)(0),[i,c]=(0,a.useState)(!1),[d,u]=(0,a.useState)(0),[h,x]=(0,a.useState)(!1),[m,f]=(0,a.useState)(!1),b=(0,a.useRef)(null),p=()=>{{let e;let t=window.innerWidth,r=window.innerHeight,s=Math.min(t<480?160:t<640?200:t<768?240:t<1024?280:t<1280?320:360,Math.min(.8*r-200,.5*r)),a=s/2,o=e=s<160?6:s<200?8:s<240?10:s<280?12:s<320?14:16;return{size:s,center:a,outerRadius:a-10,innerRadius:a-20,strokeWidth:s<200?1.5:s<300?2:3,outerRingInset:o,innerRingInset:Math.max(4,e-3)}}},[g,v]=(0,a.useState)(p());(0,a.useEffect)(()=>{let e=()=>{v(p())};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,a.useEffect)(()=>{let e=null;return i&&!h&&!m&&(r>0||l>0)?e=setInterval(()=>{l>0?n(l-1):r>0&&(o(r-1),n(59))},1e3):0!==r||0!==l||!i||h||m||(c(!1),u(0),alert("番茄钟时间到！")),()=>clearInterval(e)},[i,r,l,h,m]),(0,a.useEffect)(()=>{i&&e>0&&!h&&!m&&u((60*r+l)/(60*e)*e*6)},[r,l,e,i,h,m]);let M=e=>Math.round(e/6),j=e=>{h&&k(e)},y=()=>{if(h&&d>0){let e=M(d);t(e),o(e),n(0),c(!0),f(!1)}else h&&0===d&&(c(!1),f(!1),t(0),o(0),n(0));x(!1)},k=e=>{let t=b.current.getBoundingClientRect(),r=t.left+t.width/2,s=t.top+t.height/2;u((Math.atan2(e.clientY-s,e.clientX-r)*(180/Math.PI)+90+360)%360)},w=e=>{h&&(e.preventDefault(),e.stopPropagation(),N(e.touches[0]))},I=()=>{if(h&&d>0){let e=M(d);t(e),o(e),n(0),c(!0),f(!1)}else h&&0===d&&(c(!1),f(!1),t(0),o(0),n(0));x(!1)},N=e=>{let t=b.current.getBoundingClientRect(),r=t.left+t.width/2,s=t.top+t.height/2;u((Math.atan2(e.clientY-s,e.clientX-r)*(180/Math.PI)+90+360)%360)};(0,a.useEffect)(()=>(document.addEventListener("mousemove",j),document.addEventListener("mouseup",y),document.addEventListener("touchmove",w),document.addEventListener("touchend",I),()=>{document.removeEventListener("mousemove",j),document.removeEventListener("mouseup",y),document.removeEventListener("touchmove",w),document.removeEventListener("touchend",I)}),[h,d,i]);let P=h||m?M(d):r,E=h||m?0:l,{size:C,center:L,outerRadius:S,innerRadius:_,strokeWidth:G,outerRingInset:W,innerRingInset:B}=g;return(0,s.jsxs)("div",{className:"flex flex-col items-center space-y-3 sm:space-y-4",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"absolute bg-gradient-to-br from-amber-600 via-amber-700 to-amber-800 rounded-full shadow-2xl opacity-80",style:{inset:"-".concat(W,"px")}}),(0,s.jsx)("div",{className:"absolute bg-gradient-to-br from-amber-500 via-amber-600 to-amber-700 rounded-full shadow-xl opacity-90",style:{inset:"-".concat(B,"px")}}),(0,s.jsxs)("div",{className:"relative bg-gradient-to-br from-amber-100 via-amber-50 to-amber-200 rounded-full border-4 border-amber-600 shadow-2xl overflow-hidden",children:[(0,s.jsxs)("div",{className:"absolute inset-0 rounded-full opacity-30",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-transparent via-amber-300/20 to-amber-400/30 rounded-full"}),(0,s.jsx)("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_30%_30%,rgba(255,215,0,0.4)_0%,transparent_60%)] rounded-full"}),(0,s.jsx)("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_70%_70%,rgba(184,134,11,0.3)_0%,transparent_60%)] rounded-full"})]}),[0,90,180,270].map((e,t)=>{let r=L+(S+15)*Math.cos((e-90)*Math.PI/180),a=L+(S+15)*Math.sin((e-90)*Math.PI/180);return(0,s.jsx)("div",{className:"absolute w-4 h-4 bg-gradient-to-br ".concat(["from-ruby-400 to-ruby-600","from-emerald-400 to-emerald-600","from-sapphire-400 to-sapphire-600","from-amethyst-400 to-amethyst-600"][t]," rounded-full border-2 border-amber-700 shadow-lg z-20"),style:{left:"".concat(r-8,"px"),top:"".concat(a-8,"px")},children:(0,s.jsx)("div",{className:"w-full h-full bg-gradient-to-br from-white/40 to-transparent rounded-full"})},t)}),(0,s.jsxs)("svg",{ref:b,width:C,height:C,className:"cursor-pointer timer-dial relative z-10",onMouseDown:e=>{x(!0),i&&f(!0),k(e)},onTouchStart:e=>{e.preventDefault(),e.stopPropagation(),x(!0),i&&f(!0),N(e.touches[0])},children:[(0,s.jsxs)("defs",{children:[(0,s.jsxs)("radialGradient",{id:"metalGradient",cx:"30%",cy:"30%",children:[(0,s.jsx)("stop",{offset:"0%",stopColor:"#fbbf24"}),(0,s.jsx)("stop",{offset:"50%",stopColor:"#f59e0b"}),(0,s.jsx)("stop",{offset:"100%",stopColor:"#d97706"})]}),(0,s.jsxs)("radialGradient",{id:"innerGradient",cx:"50%",cy:"50%",children:[(0,s.jsx)("stop",{offset:"0%",stopColor:"#fef3c7"}),(0,s.jsx)("stop",{offset:"70%",stopColor:"#fde68a"}),(0,s.jsx)("stop",{offset:"100%",stopColor:"#f59e0b"})]}),(0,s.jsxs)("filter",{id:"glow",children:[(0,s.jsx)("feGaussianBlur",{stdDeviation:"3",result:"coloredBlur"}),(0,s.jsxs)("feMerge",{children:[(0,s.jsx)("feMergeNode",{in:"coloredBlur"}),(0,s.jsx)("feMergeNode",{in:"SourceGraphic"})]})]})]}),(0,s.jsx)("circle",{cx:L,cy:L,r:S,fill:"url(#innerGradient)",stroke:"url(#metalGradient)",strokeWidth:2*G}),(0,s.jsx)("circle",{cx:L,cy:L,r:_,fill:"none",stroke:"#92400e",strokeWidth:G,opacity:"0.6"}),[...Array(12)].map((e,t)=>{let r=30*t,a=L+(S-15)*Math.cos((r-90)*Math.PI/180),o=L+(S-15)*Math.sin((r-90)*Math.PI/180),l=L+(S-25)*Math.cos((r-90)*Math.PI/180),n=L+(S-25)*Math.sin((r-90)*Math.PI/180);return(0,s.jsx)("line",{x1:a,y1:o,x2:l,y2:n,stroke:"#92400e",strokeWidth:1.5*G,strokeLinecap:"round"},t)}),[...Array(60)].map((e,t)=>{if(t%5!=0){let e=6*t,r=L+(S-15)*Math.cos((e-90)*Math.PI/180),a=L+(S-15)*Math.sin((e-90)*Math.PI/180),o=L+(S-20)*Math.cos((e-90)*Math.PI/180),l=L+(S-20)*Math.sin((e-90)*Math.PI/180);return(0,s.jsx)("line",{x1:r,y1:a,x2:o,y2:l,stroke:"#b45309",strokeWidth:"1.5",strokeLinecap:"round"},"small-".concat(t))}return null}),[0,5,10,15,20,25,30,35,40,45,50,55].map(e=>{let t=6*e,r=L+(S-45)*Math.cos((t-90)*Math.PI/180),a=L+(S-45)*Math.sin((t-90)*Math.PI/180);return(0,s.jsxs)("g",{children:[(0,s.jsx)("text",{x:r,y:a,textAnchor:"middle",dominantBaseline:"central",className:"text-[10px] sm:text-xs lg:text-sm font-bold select-none",fill:"#ffffff",stroke:"#ffffff",strokeWidth:"2",children:e}),(0,s.jsx)("text",{x:r,y:a,textAnchor:"middle",dominantBaseline:"central",className:"fill-amber-900 text-[10px] sm:text-xs lg:text-sm font-bold select-none",children:e})]},e)}),d>0&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("defs",{children:(0,s.jsxs)("radialGradient",{id:"progressGradient",cx:"50%",cy:"50%",children:[(0,s.jsx)("stop",{offset:"0%",stopColor:!i||h||m?"#ef4444":"#10b981",stopOpacity:"0.8"}),(0,s.jsx)("stop",{offset:"100%",stopColor:!i||h||m?"#dc2626":"#059669",stopOpacity:"0.6"})]})}),(0,s.jsx)("path",{d:"M ".concat(L," ").concat(L," L ").concat(L," ").concat(L-S," A ").concat(S," ").concat(S," 0 ").concat(d>180?1:0," 1 ").concat(L+S*Math.sin(d*Math.PI/180)," ").concat(L-S*Math.cos(d*Math.PI/180)," Z"),fill:"url(#progressGradient)",filter:"url(#glow)"})]}),(0,s.jsx)("line",{x1:L,y1:L,x2:L+(S-15)*Math.sin(d*Math.PI/180),y2:L-(S-15)*Math.cos(d*Math.PI/180),stroke:"#92400e",strokeWidth:Math.max(3,G+2),strokeLinecap:"round",filter:"url(#glow)"}),(0,s.jsx)("circle",{cx:L+(S-15)*Math.sin(d*Math.PI/180),cy:L-(S-15)*Math.cos(d*Math.PI/180),r:C<200?"8":C<280?"10":C<320?"12":"14",fill:"url(#metalGradient)",stroke:"#92400e",strokeWidth:"3",className:"cursor-grab active:cursor-grabbing",filter:"url(#glow)"}),(0,s.jsx)("circle",{cx:L+(S-15)*Math.sin(d*Math.PI/180),cy:L-(S-15)*Math.cos(d*Math.PI/180),r:C<200?"4":C<280?"5":C<320?"6":"7",fill:"#dc2626",opacity:"0.8"}),(0,s.jsx)("circle",{cx:L,cy:L-S,r:C<200?"4":C<280?"5":"6",fill:"#10b981",stroke:"#065f46",strokeWidth:"2",filter:"url(#glow)"}),(0,s.jsx)("circle",{cx:L,cy:L,r:C<200?"6":C<280?"8":C<320?"10":"12",fill:"url(#metalGradient)",stroke:"#92400e",strokeWidth:"2",filter:"url(#glow)"}),(0,s.jsx)("circle",{cx:L,cy:L,r:C<200?"3":C<280?"4":C<320?"5":"6",fill:"#dc2626",opacity:"0.9"})]})]})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsxs)("div",{className:"relative  mb-2",children:[(0,s.jsx)("div",{className:"absolute -inset-2 bg-gradient-to-br from-amber-400 via-amber-500 to-amber-600 rounded-lg shadow-lg opacity-20"}),(0,s.jsxs)("div",{className:"relative text-lg sm:text-2xl lg:text-3xl xl:text-4xl font-bold select-none px-3 py-1",style:{background:"linear-gradient(135deg, #92400e 0%, #d97706 50%, #f59e0b 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",filter:"drop-shadow(1px 1px 2px rgba(255,255,255,0.8))"},children:[String(P).padStart(2,"0"),":",String(E).padStart(2,"0")]})]}),(0,s.jsxs)("div",{className:"relative inline-block",children:[(0,s.jsx)("div",{className:"absolute -inset-1 bg-gradient-to-r from-amber-200 via-amber-100 to-amber-200 rounded-md opacity-60"}),(0,s.jsx)("div",{className:"relative text-[10px] sm:text-xs lg:text-sm text-amber-800 font-semibold select-none px-2 py-1 bg-amber-50/80 rounded-md border border-amber-300",children:h||m?"\uD83D\uDD2E 拖拽重新设定时间，松手开始倒计时":i?"⚡ 魔法倒计时进行中...（可拖拽指针重新设定）":"✨ 拖拽旋钮设定番茄魔法钟时间"})]})]})]})}}}]);