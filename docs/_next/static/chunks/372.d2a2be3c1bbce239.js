"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[372],{4372:(e,t,l)=>{l.r(t),l.d(t,{default:()=>n});var s=l(5880),a=l(6292);function n(){let[e,t]=(0,a.useState)(0),[l,n]=(0,a.useState)(null),[r,i]=(0,a.useState)("prompt"),[x,o]=(0,a.useState)(!1),c=e=>{e.webkitCompassHeading?t(e.webkitCompassHeading):e.alpha&&t(360-e.alpha)},d=()=>{try{window.addEventListener("deviceorientation",c,!0),o(!0),i("granted")}catch(e){n("初始化指南针失败"),i("denied")}};(0,a.useEffect)(()=>{if("function"!=typeof DeviceOrientationEvent.requestPermission){if("undefined"==typeof DeviceOrientationEvent){n("设备方向API不可用");return}d()}return()=>{window.removeEventListener("deviceorientation",c,!0)}},[]);let m=async()=>{try{let e=await DeviceOrientationEvent.requestPermission();if("granted"===e)d();else throw Error("需要访问设备方向的权限")}catch(e){n(e.message),i("denied")}};if(l)return(0,s.jsx)("div",{className:"flex flex-col items-center space-y-3 sm:space-y-4",children:(0,s.jsx)("div",{className:"w-[160px] h-[160px] sm:w-[200px] sm:h-[200px] md:w-[240px] md:h-[240px] lg:w-[280px] lg:h-[280px] xl:w-[320px] xl:h-[320px] 2xl:w-[360px] 2xl:h-[360px] bg-gray-100 rounded-full flex items-center justify-center p-4 text-center",style:{maxWidth:"min(40vw, 50vh)",maxHeight:"min(40vw, 50vh)"},children:(0,s.jsx)("div",{className:"text-gray-500 text-xs sm:text-sm",children:l})})});if(!x&&"function"==typeof DeviceOrientationEvent.requestPermission)return(0,s.jsx)("div",{className:"flex flex-col items-center space-y-3 sm:space-y-4",children:(0,s.jsx)("div",{className:"w-[160px] h-[160px] sm:w-[200px] sm:h-[200px] md:w-[240px] md:h-[240px] lg:w-[280px] lg:h-[280px] xl:w-[320px] xl:h-[320px] 2xl:w-[360px] 2xl:h-[360px] bg-gray-100 rounded-full flex items-center justify-center p-4 text-center",style:{maxWidth:"min(40vw, 50vh)",maxHeight:"min(40vw, 50vh)"},children:(0,s.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[(0,s.jsx)("svg",{className:"w-8 h-8 sm:w-10 sm:h-10 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"})}),(0,s.jsx)("div",{className:"text-gray-500 text-xs sm:text-sm text-center mb-2",children:"需要访问设备方向"}),(0,s.jsx)("button",{onClick:m,className:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-full text-sm font-medium transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2",children:"允许访问"})]})})});let h=[{text:"北",element:"水",animal:"玄武",color:"text-blue-600"},{text:"东北",element:"土",animal:"螣蛇",color:"text-yellow-700"},{text:"东",element:"木",animal:"青龙",color:"text-green-600"},{text:"东南",element:"木",animal:"朱雀",color:"text-red-600"},{text:"南",element:"火",animal:"朱雀",color:"text-red-600"},{text:"西南",element:"土",animal:"勾陈",color:"text-yellow-700"},{text:"西",element:"金",animal:"白虎",color:"text-gray-600"},{text:"西北",element:"金",animal:"饕餮",color:"text-gray-600"}][Math.round(e/45)%8];return(0,s.jsxs)("div",{className:"flex flex-col items-center space-y-3 sm:space-y-4",children:[(0,s.jsxs)("div",{className:"compass-dial w-[160px] h-[160px] sm:w-[200px] sm:h-[200px] md:w-[240px] md:h-[240px] lg:w-[280px] lg:h-[280px] xl:w-[320px] xl:h-[320px] 2xl:w-[360px] 2xl:h-[360px] bg-white rounded-full relative shadow-xl",style:{maxWidth:"min(40vw, 50vh)",maxHeight:"min(40vw, 50vh)"},children:[(0,s.jsx)("div",{className:"absolute inset-0 rounded-full border-8 border-gray-100 bg-gradient-to-br from-gray-50 to-white",style:{backgroundImage:"url(\"data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M50 50 L50 0 A50 50 0 0 1 100 50 Z' fill='%23f3f4f6'/%3E%3Cpath d='M50 50 L100 50 A50 50 0 0 1 50 100 Z' fill='%23e5e7eb'/%3E%3Cpath d='M50 50 L50 100 A50 50 0 0 1 0 50 Z' fill='%23f3f4f6'/%3E%3Cpath d='M50 50 L0 50 A50 50 0 0 1 50 0 Z' fill='%23e5e7eb'/%3E%3C/svg%3E\")"}}),(0,s.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,s.jsx)("div",{className:"relative w-full h-full",children:(0,s.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",style:{transform:"rotate(".concat(-e,"deg)")},children:(0,s.jsxs)("div",{className:"w-full h-full border-4 border-gray-200 rounded-full flex items-center justify-center",children:[(0,s.jsx)("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-1 h-8 bg-red-500"}),(0,s.jsx)("div",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 w-1 h-6 bg-gray-300"}),(0,s.jsx)("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 h-1 w-6 bg-gray-300"}),(0,s.jsx)("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 h-1 w-6 bg-gray-300"}),(0,s.jsx)("div",{className:"absolute top-2 left-1/2 -translate-x-1/2 -translate-y-full text-sm font-bold text-red-600",children:"北"}),(0,s.jsx)("div",{className:"absolute bottom-2 left-1/2 -translate-x-1/2 translate-y-full text-sm font-bold text-blue-600",children:"南"}),(0,s.jsx)("div",{className:"absolute left-2 top-1/2 -translate-y-1/2 -translate-x-full text-sm font-bold text-green-600",children:"西"}),(0,s.jsx)("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 translate-x-full text-sm font-bold text-yellow-600",children:"东"})]})})})})]}),(0,s.jsxs)("div",{className:"text-center space-y-2",children:[(0,s.jsxs)("div",{className:"text-lg sm:text-2xl lg:text-3xl xl:text-4xl font-bold mb-1 sm:mb-2 ".concat(h.color),children:[Math.round(e),"\xb0 ",h.text]}),(0,s.jsxs)("div",{className:"text-sm space-y-1",children:[(0,s.jsxs)("div",{className:"text-gray-600",children:["五行：",(0,s.jsx)("span",{className:h.color,children:h.element})]}),(0,s.jsxs)("div",{className:"text-gray-600",children:["神兽：",(0,s.jsx)("span",{className:h.color,children:h.animal})]})]})]})]})}}}]);