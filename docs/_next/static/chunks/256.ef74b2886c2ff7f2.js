"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[256],{5256:(e,t,r)=>{r.r(t),r.d(t,{default:()=>l});var a=r(5155),s=r(2115);function l(){let[e,t]=(0,s.useState)(0),[r,l]=(0,s.useState)(null),[d,o]=(0,s.useState)("prompt"),[n,i]=(0,s.useState)(!1),m=e=>{e.webkitCompassHeading?t(e.webkitCompassHeading):e.alpha&&t(360-e.alpha)},c=()=>{try{window.addEventListener("deviceorientation",m,!0),i(!0),o("granted")}catch(e){l("玄乎儿方位初始化失败"),o("denied")}};(0,s.useEffect)(()=>{if("function"!=typeof DeviceOrientationEvent.requestPermission){if("undefined"==typeof DeviceOrientationEvent){l("设备方向感应术法不可用");return}c()}return()=>{window.removeEventListener("deviceorientation",m,!0)}},[]);let x=async()=>{try{let e=await DeviceOrientationEvent.requestPermission();if("granted"===e)c();else throw Error("需要获得设备方向感应的魔法权限")}catch(e){l(e.message),o("denied")}};if(r)return(0,a.jsx)("div",{className:"flex flex-col items-center space-y-4",children:(0,a.jsxs)("div",{className:"compass-dial w-48 h-48 sm:w-56 sm:h-56 relative",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-red-500 to-red-600 rounded-full"}),(0,a.jsx)("div",{className:"absolute inset-2 bg-gradient-to-br from-red-50 to-red-100 rounded-full border-2 border-red-400 flex items-center justify-center shadow-lg",children:(0,a.jsx)("div",{className:"text-red-700 text-sm font-medium text-center px-4",children:r})})]})});if(!n&&"function"==typeof DeviceOrientationEvent.requestPermission)return(0,a.jsx)("div",{className:"flex flex-col items-center space-y-4",children:(0,a.jsxs)("div",{className:"compass-dial w-48 h-48 sm:w-56 sm:h-56 relative",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-500 to-emerald-600 rounded-full"}),(0,a.jsx)("div",{className:"absolute inset-2 bg-gradient-to-br from-emerald-50 to-emerald-100 rounded-full border-2 border-emerald-400 flex items-center justify-center shadow-lg",children:(0,a.jsxs)("div",{className:"flex flex-col items-center space-y-4 px-6",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-emerald-400 to-emerald-500 rounded-full flex items-center justify-center border-2 border-emerald-600 shadow-md",children:(0,a.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"})})}),(0,a.jsx)("div",{className:"text-emerald-700 text-sm text-center font-medium",children:"需要访问设备方向感应术法"}),(0,a.jsx)("button",{onClick:x,className:"bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-600 hover:to-emerald-700 text-white px-6 py-2 rounded-lg text-sm font-medium transition-all duration-200 shadow-md hover:shadow-lg",children:"允许魔法感应"})]})})]})});let b=[{text:"北",element:"水",animal:"玄武"},{text:"东北",element:"土",animal:"螣蛇"},{text:"东",element:"木",animal:"青龙"},{text:"东南",element:"木",animal:"朱雀"},{text:"南",element:"火",animal:"朱雀"},{text:"西南",element:"土",animal:"勾陈"},{text:"西",element:"金",animal:"白虎"},{text:"西北",element:"金",animal:"饕餮"}][Math.round(e/45)%8];return(0,a.jsxs)("div",{className:"flex flex-col items-center space-y-6",children:[(0,a.jsxs)("div",{className:"compass-dial w-56 h-56 sm:w-64 sm:h-64 md:w-72 md:h-72 relative",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-600 to-emerald-700 rounded-full shadow-2xl"}),(0,a.jsxs)("div",{className:"absolute inset-3 bg-gradient-to-br from-emerald-50 to-emerald-100 rounded-full border-4 border-emerald-500 shadow-xl overflow-hidden",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-100/50 to-emerald-200/50 rounded-full"}),[0,45,90,135,180,225,270,315].map((e,t)=>(0,a.jsx)("div",{className:"absolute w-2.5 h-2.5 bg-gradient-to-br from-amber-400 to-amber-500 rounded-full border border-amber-600 shadow-md",style:{top:"50%",left:"50%",transform:"translate(-50%, -50%) rotate(".concat(e,"deg) translateY(-90px)")}},e)),(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"relative w-full h-full",children:[(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center transition-transform duration-300",style:{transform:"rotate(".concat(-e,"deg)")},children:(0,a.jsxs)("div",{className:"w-full h-full rounded-full flex items-center justify-center relative",children:[(0,a.jsxs)("div",{className:"absolute top-6 left-1/2 -translate-x-1/2 flex flex-col items-center",children:[(0,a.jsx)("div",{className:"w-2.5 h-12 bg-gradient-to-b from-red-400 to-red-600 rounded-full shadow-lg"}),(0,a.jsx)("div",{className:"w-4 h-4 bg-gradient-to-br from-red-400 to-red-600 rounded-full border-2 border-red-700 shadow-lg -mt-1"})]}),(0,a.jsx)("div",{className:"absolute bottom-6 left-1/2 -translate-x-1/2 flex flex-col-reverse items-center",children:(0,a.jsx)("div",{className:"w-1.5 h-10 bg-gradient-to-t from-blue-400 to-blue-600 rounded-full shadow-lg"})}),(0,a.jsx)("div",{className:"absolute left-6 top-1/2 -translate-y-1/2",children:(0,a.jsx)("div",{className:"h-1.5 w-10 bg-gradient-to-r from-emerald-400 to-emerald-600 rounded-full shadow-lg"})}),(0,a.jsx)("div",{className:"absolute right-6 top-1/2 -translate-y-1/2",children:(0,a.jsx)("div",{className:"h-1.5 w-10 bg-gradient-to-l from-emerald-400 to-emerald-600 rounded-full shadow-lg"})})]})}),(0,a.jsx)("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-6 h-6 bg-gradient-to-br from-amber-300 to-amber-500 rounded-full border-2 border-amber-600 shadow-lg",children:(0,a.jsx)("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-2 h-2 bg-amber-200 rounded-full"})})]})})]}),(0,a.jsx)("div",{className:"absolute -top-6 left-1/2 -translate-x-1/2 text-base font-bold text-emerald-700 bg-white rounded-lg px-3 py-1.5 border-2 border-emerald-300 shadow-lg",children:"北"}),(0,a.jsx)("div",{className:"absolute -bottom-6 left-1/2 -translate-x-1/2 text-base font-bold text-emerald-700 bg-white rounded-lg px-3 py-1.5 border-2 border-emerald-300 shadow-lg",children:"南"}),(0,a.jsx)("div",{className:"absolute -left-6 top-1/2 -translate-y-1/2 text-base font-bold text-emerald-700 bg-white rounded-lg px-3 py-1.5 border-2 border-emerald-300 shadow-lg",children:"西"}),(0,a.jsx)("div",{className:"absolute -right-6 top-1/2 -translate-y-1/2 text-base font-bold text-emerald-700 bg-white rounded-lg px-3 py-1.5 border-2 border-emerald-300 shadow-lg",children:"东"})]}),(0,a.jsx)("div",{className:"bg-white rounded-xl border-2 border-emerald-300 p-4 shadow-lg",children:(0,a.jsxs)("div",{className:"text-center space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 bg-gradient-to-br from-amber-400 to-amber-500 rounded-full"}),(0,a.jsxs)("div",{className:"text-xl font-bold text-emerald-700",children:[Math.round(e),"\xb0 ",b.text]}),(0,a.jsx)("div",{className:"w-3 h-3 bg-gradient-to-br from-amber-400 to-amber-500 rounded-full"})]}),(0,a.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,a.jsxs)("div",{className:"text-emerald-600",children:["五行元素：",(0,a.jsx)("span",{className:"font-bold text-emerald-700",children:b.element})]}),(0,a.jsxs)("div",{className:"text-emerald-600",children:["守护神兽：",(0,a.jsx)("span",{className:"font-bold text-emerald-700",children:b.animal})]})]})]})})]})}}}]);