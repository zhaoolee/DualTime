"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[920],{9920:(e,t,r)=>{r.r(t),r.d(t,{default:()=>n});var s=r(5880),a=r(6292);function n(){let[e,t]=(0,a.useState)(0),[r,n]=(0,a.useState)(0),[o,i]=(0,a.useState)(0),[l,c]=(0,a.useState)(!1),[d,h]=(0,a.useState)(0),[u,x]=(0,a.useState)(!1),[m,f]=(0,a.useState)(!1),p=(0,a.useRef)(null),b=()=>{{let e=window.innerWidth,t=window.innerHeight;if(e<=1024&&e>t){let r;let s=Math.min(.9*(t-60),.8*t),a=Math.min(t<=450?Math.min(180,s):t<=600?Math.min(220,s):Math.min(280,s),.42*e),n=a/2,o=r=a<120?4:a<150?6:a<180?8:a<220?10:a<260?12:14;return{size:a,center:n,outerRadius:n-8,innerRadius:n-16,strokeWidth:a<150?1:a<200?1.5:a<250?2:2.5,outerRingInset:o,innerRingInset:Math.max(3,r-2)}}{let r;let s=Math.min(e<480?200:e<640?240:e<768?280:e<1024?320:e<1280?360:400,Math.min(.85*t-120,.6*t)),a=s/2,n=r=s<180?8:s<220?10:s<260?12:s<300?14:s<340?16:18;return{size:s,center:a,outerRadius:a-8,innerRadius:a-16,strokeWidth:s<200?1.5:s<250?2:s<300?2.5:3,outerRingInset:n,innerRingInset:Math.max(4,r-3)}}}},[g,v]=(0,a.useState)(b()),[M,j]=(0,a.useState)(!1);(0,a.useEffect)(()=>{let e=()=>{{let e=window.innerWidth,t=window.innerHeight;j(e<=1024&&e>t)}};return e(),window.addEventListener("resize",e),window.addEventListener("orientationchange",()=>{setTimeout(e,200)}),()=>{window.removeEventListener("resize",e),window.removeEventListener("orientationchange",e)}},[]),(0,a.useEffect)(()=>{let e=()=>{v(b())};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,a.useEffect)(()=>{let e=null;return l&&!u&&!m&&(r>0||o>0)?e=setInterval(()=>{o>0?i(o-1):r>0&&(n(r-1),i(59))},1e3):0!==r||0!==o||!l||u||m||(c(!1),h(0),alert("番茄钟时间到！")),()=>clearInterval(e)},[l,r,o,u,m]),(0,a.useEffect)(()=>{l&&e>0&&!u&&!m&&h((60*r+o)/(60*e)*e*6)},[r,o,e,l,u,m]);let y=e=>Math.round(e/6),w=e=>{u&&I(e)},k=()=>{if(u&&d>0){let e=y(d);t(e),n(e),i(0),c(!0),f(!1)}else u&&0===d&&(c(!1),f(!1),t(0),n(0),i(0));x(!1)},I=e=>{let t=p.current.getBoundingClientRect(),r=t.left+t.width/2,s=t.top+t.height/2;h((Math.atan2(e.clientY-s,e.clientX-r)*(180/Math.PI)+90+360)%360)},N=e=>{u&&(e.preventDefault(),e.stopPropagation(),E(e.touches[0]))},P=()=>{if(u&&d>0){let e=y(d);t(e),n(e),i(0),c(!0),f(!1)}else u&&0===d&&(c(!1),f(!1),t(0),n(0),i(0));x(!1)},E=e=>{let t=p.current.getBoundingClientRect(),r=t.left+t.width/2,s=t.top+t.height/2;h((Math.atan2(e.clientY-s,e.clientX-r)*(180/Math.PI)+90+360)%360)};(0,a.useEffect)(()=>(document.addEventListener("mousemove",w),document.addEventListener("mouseup",k),document.addEventListener("touchmove",N),document.addEventListener("touchend",P),()=>{document.removeEventListener("mousemove",w),document.removeEventListener("mouseup",k),document.removeEventListener("touchmove",N),document.removeEventListener("touchend",P)}),[u,d,l]);let L=u||m?y(d):r,S=u||m?0:o,{size:W,center:C,outerRadius:_,innerRadius:G,strokeWidth:R,outerRingInset:z,innerRingInset:B}=g;return(0,s.jsxs)("div",{className:"flex flex-col items-center ".concat(M?"space-y-1 sm:space-y-2":"space-y-3 sm:space-y-4"),children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"absolute bg-gradient-to-br from-amber-600 via-amber-700 to-amber-800 rounded-full shadow-2xl opacity-80",style:{inset:"-".concat(z,"px")}}),(0,s.jsx)("div",{className:"absolute bg-gradient-to-br from-amber-500 via-amber-600 to-amber-700 rounded-full shadow-xl opacity-90",style:{inset:"-".concat(B,"px")}}),(0,s.jsxs)("div",{className:"relative bg-gradient-to-br from-amber-100 via-amber-50 to-amber-200 rounded-full border-4 border-amber-600 shadow-2xl overflow-hidden",children:[(0,s.jsxs)("div",{className:"absolute inset-0 rounded-full opacity-30",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-transparent via-amber-300/20 to-amber-400/30 rounded-full"}),(0,s.jsx)("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_30%_30%,rgba(255,215,0,0.4)_0%,transparent_60%)] rounded-full"}),(0,s.jsx)("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_70%_70%,rgba(184,134,11,0.3)_0%,transparent_60%)] rounded-full"})]}),[0,90,180,270].map((e,t)=>{let r=C+(_+15)*Math.cos((e-90)*Math.PI/180),a=C+(_+15)*Math.sin((e-90)*Math.PI/180);return(0,s.jsx)("div",{className:"absolute w-4 h-4 bg-gradient-to-br ".concat(["from-ruby-400 to-ruby-600","from-emerald-400 to-emerald-600","from-sapphire-400 to-sapphire-600","from-amethyst-400 to-amethyst-600"][t]," rounded-full border-2 border-amber-700 shadow-lg z-20"),style:{left:"".concat(r-8,"px"),top:"".concat(a-8,"px")},children:(0,s.jsx)("div",{className:"w-full h-full bg-gradient-to-br from-white/40 to-transparent rounded-full"})},t)}),(0,s.jsxs)("svg",{ref:p,width:W,height:W,className:"cursor-pointer timer-dial relative z-10",onMouseDown:e=>{x(!0),l&&f(!0),I(e)},onTouchStart:e=>{e.preventDefault(),e.stopPropagation(),x(!0),l&&f(!0),E(e.touches[0])},children:[(0,s.jsxs)("defs",{children:[(0,s.jsxs)("radialGradient",{id:"metalGradient",cx:"30%",cy:"30%",children:[(0,s.jsx)("stop",{offset:"0%",stopColor:"#fbbf24"}),(0,s.jsx)("stop",{offset:"50%",stopColor:"#f59e0b"}),(0,s.jsx)("stop",{offset:"100%",stopColor:"#d97706"})]}),(0,s.jsxs)("radialGradient",{id:"innerGradient",cx:"50%",cy:"50%",children:[(0,s.jsx)("stop",{offset:"0%",stopColor:"#fef3c7"}),(0,s.jsx)("stop",{offset:"70%",stopColor:"#fde68a"}),(0,s.jsx)("stop",{offset:"100%",stopColor:"#f59e0b"})]}),(0,s.jsxs)("filter",{id:"glow",children:[(0,s.jsx)("feGaussianBlur",{stdDeviation:"3",result:"coloredBlur"}),(0,s.jsxs)("feMerge",{children:[(0,s.jsx)("feMergeNode",{in:"coloredBlur"}),(0,s.jsx)("feMergeNode",{in:"SourceGraphic"})]})]})]}),(0,s.jsx)("circle",{cx:C,cy:C,r:_,fill:"url(#innerGradient)",stroke:"url(#metalGradient)",strokeWidth:2*R}),(0,s.jsx)("circle",{cx:C,cy:C,r:G,fill:"none",stroke:"#92400e",strokeWidth:R,opacity:"0.6"}),[...Array(12)].map((e,t)=>{let r=30*t,a=C+(_-15)*Math.cos((r-90)*Math.PI/180),n=C+(_-15)*Math.sin((r-90)*Math.PI/180),o=C+(_-25)*Math.cos((r-90)*Math.PI/180),i=C+(_-25)*Math.sin((r-90)*Math.PI/180);return(0,s.jsx)("line",{x1:a,y1:n,x2:o,y2:i,stroke:"#92400e",strokeWidth:1.5*R,strokeLinecap:"round"},t)}),[...Array(60)].map((e,t)=>{if(t%5!=0){let e=6*t,r=C+(_-15)*Math.cos((e-90)*Math.PI/180),a=C+(_-15)*Math.sin((e-90)*Math.PI/180),n=C+(_-20)*Math.cos((e-90)*Math.PI/180),o=C+(_-20)*Math.sin((e-90)*Math.PI/180);return(0,s.jsx)("line",{x1:r,y1:a,x2:n,y2:o,stroke:"#b45309",strokeWidth:"1.5",strokeLinecap:"round"},"small-".concat(t))}return null}),[0,5,10,15,20,25,30,35,40,45,50,55].map(e=>{let t=6*e,r=C+(_-45)*Math.cos((t-90)*Math.PI/180),a=C+(_-45)*Math.sin((t-90)*Math.PI/180);return(0,s.jsxs)("g",{children:[(0,s.jsx)("text",{x:r,y:a,textAnchor:"middle",dominantBaseline:"central",className:"text-[10px] sm:text-xs lg:text-sm font-bold select-none",fill:"#ffffff",stroke:"#ffffff",strokeWidth:"2",children:e}),(0,s.jsx)("text",{x:r,y:a,textAnchor:"middle",dominantBaseline:"central",className:"fill-amber-900 text-[10px] sm:text-xs lg:text-sm font-bold select-none",children:e})]},e)}),d>0&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("defs",{children:(0,s.jsxs)("radialGradient",{id:"progressGradient",cx:"50%",cy:"50%",children:[(0,s.jsx)("stop",{offset:"0%",stopColor:!l||u||m?"#ef4444":"#10b981",stopOpacity:"0.8"}),(0,s.jsx)("stop",{offset:"100%",stopColor:!l||u||m?"#dc2626":"#059669",stopOpacity:"0.6"})]})}),(0,s.jsx)("path",{d:"M ".concat(C," ").concat(C," L ").concat(C," ").concat(C-_," A ").concat(_," ").concat(_," 0 ").concat(d>180?1:0," 1 ").concat(C+_*Math.sin(d*Math.PI/180)," ").concat(C-_*Math.cos(d*Math.PI/180)," Z"),fill:"url(#progressGradient)",filter:"url(#glow)"})]}),(0,s.jsx)("line",{x1:C,y1:C,x2:C+(_-15)*Math.sin(d*Math.PI/180),y2:C-(_-15)*Math.cos(d*Math.PI/180),stroke:"#92400e",strokeWidth:Math.max(3,R+2),strokeLinecap:"round",filter:"url(#glow)"}),(0,s.jsx)("circle",{cx:C+(_-15)*Math.sin(d*Math.PI/180),cy:C-(_-15)*Math.cos(d*Math.PI/180),r:W<200?"8":W<280?"10":W<320?"12":"14",fill:"url(#metalGradient)",stroke:"#92400e",strokeWidth:"3",className:"cursor-grab active:cursor-grabbing",filter:"url(#glow)"}),(0,s.jsx)("circle",{cx:C+(_-15)*Math.sin(d*Math.PI/180),cy:C-(_-15)*Math.cos(d*Math.PI/180),r:W<200?"4":W<280?"5":W<320?"6":"7",fill:"#dc2626",opacity:"0.8"}),(0,s.jsx)("circle",{cx:C,cy:C-_,r:W<200?"4":W<280?"5":"6",fill:"#10b981",stroke:"#065f46",strokeWidth:"2",filter:"url(#glow)"}),(0,s.jsx)("circle",{cx:C,cy:C,r:W<200?"6":W<280?"8":W<320?"10":"12",fill:"url(#metalGradient)",stroke:"#92400e",strokeWidth:"2",filter:"url(#glow)"}),(0,s.jsx)("circle",{cx:C,cy:C,r:W<200?"3":W<280?"4":W<320?"5":"6",fill:"#dc2626",opacity:"0.9"})]})]})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsxs)("div",{className:"relative ".concat(M?"mb-1":"mb-2"),children:[(0,s.jsx)("div",{className:"absolute bg-gradient-to-br from-amber-400 via-amber-500 to-amber-600 rounded-lg shadow-lg opacity-20 ".concat(M?"-inset-1":"-inset-2")}),(0,s.jsxs)("div",{className:"relative font-bold select-none ".concat(M?"text-sm sm:text-lg lg:text-xl px-2 py-0.5":"text-lg sm:text-2xl lg:text-3xl xl:text-4xl px-3 py-1"),style:{background:"linear-gradient(135deg, #92400e 0%, #d97706 50%, #f59e0b 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",filter:"drop-shadow(1px 1px 2px rgba(255,255,255,0.8))"},children:[String(L).padStart(2,"0"),":",String(S).padStart(2,"0")]})]}),(0,s.jsxs)("div",{className:"relative inline-block",children:[(0,s.jsx)("div",{className:"absolute bg-gradient-to-r from-amber-200 via-amber-100 to-amber-200 rounded-md opacity-60 ".concat(M?"inset-0":"-inset-1")}),(0,s.jsx)("div",{className:"relative text-amber-800 font-semibold select-none bg-amber-50/80 rounded-md border border-amber-300 ".concat(M?"text-[8px] sm:text-[10px] px-1 py-0.5":"text-[10px] sm:text-xs lg:text-sm px-2 py-1"),children:u||m?"\uD83D\uDD2E 拖拽重新设定时间，松手开始倒计时":l?"⚡ 魔法倒计时进行中...（可拖拽指针重新设定）":"✨ 拖拽旋钮设定番茄魔法钟时间"})]})]})]})}}}]);